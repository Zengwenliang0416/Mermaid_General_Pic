# Mermaid å›¾è¡¨ç”Ÿæˆå™¨ ğŸ¨

ä¸€ä¸ªåŸºäº Vue 3 å’Œ Node.js çš„ Web åº”ç”¨ï¼Œç”¨äºå°† Mermaid ä»£ç è½¬æ¢ä¸ºå›¾ç‰‡ã€‚æ”¯æŒå®æ—¶é¢„è§ˆã€å¤šç§è¾“å‡ºæ ¼å¼ã€DPI è°ƒæ•´ã€ä¸»é¢˜åˆ‡æ¢ç­‰åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ–¼ï¸ æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼ˆPNGã€SVGã€JPGï¼‰
- ğŸ” å®æ—¶é¢„è§ˆåŠŸèƒ½
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸŒˆ å¤šç§ä¸»é¢˜é€‰æ‹©
- ğŸ¯ å¯è°ƒèŠ‚ DPI å’ŒèƒŒæ™¯è®¾ç½®
- ğŸŒ æ”¯æŒä¸­è‹±æ–‡ç•Œé¢
- ğŸ“¦ æ”¯æŒ Docker éƒ¨ç½²
- ğŸ’¾ è½¬æ¢å†å²è®°å½•

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- Docker (å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²)
- pnpm (æ¨èçš„åŒ…ç®¡ç†å™¨)

### ä½¿ç”¨ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. å…‹éš†ä»“åº“ï¼š
   ```bash
   git clone <repository-url>
   cd Mermaid_General_Pic
   ```

2. ä½¿ç”¨ Docker Compose å¯åŠ¨æœåŠ¡ï¼š
   ```bash
   docker compose up -d
   ```

3. è®¿é—®åº”ç”¨ï¼š
   - å‰ç«¯ï¼šhttp://localhost:3000
   - åç«¯ APIï¼šhttp://localhost:8000

### æ‰‹åŠ¨éƒ¨ç½²

#### åç«¯æœåŠ¡

1. è¿›å…¥åç«¯ç›®å½•ï¼š
   ```bash
   cd backend-node
   ```

2. å®‰è£…ä¾èµ–ï¼š
   ```bash
   pnpm install
   ```

3. æ„å»ºé¡¹ç›®ï¼š
   ```bash
   pnpm build
   ```

4. å¯åŠ¨æœåŠ¡ï¼š
   ```bash
   pnpm start
   ```

#### å‰ç«¯æœåŠ¡

1. è¿›å…¥å‰ç«¯ç›®å½•ï¼š
   ```bash
   cd frontend
   ```

2. å®‰è£…ä¾èµ–ï¼š
   ```bash
   pnpm install
   ```

3. å¼€å‘æ¨¡å¼å¯åŠ¨ï¼š
   ```bash
   pnpm dev
   ```

4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š
   ```bash
   pnpm build
   ```

## ğŸ“– ä½¿ç”¨è¯´æ˜

1. åœ¨å·¦ä¾§ç¼–è¾‘å™¨ä¸­è¾“å…¥ Mermaid ä»£ç 
2. å®æ—¶é¢„è§ˆä¼šæ˜¾ç¤ºåœ¨å³ä¾§
3. è°ƒæ•´è¾“å‡ºè®¾ç½®ï¼š
   - é€‰æ‹©è¾“å‡ºæ ¼å¼ï¼ˆPNG/SVG/JPGï¼‰
   - è°ƒæ•´ DPI å€¼ï¼ˆ72-600ï¼‰
   - é€‰æ‹©ä¸»é¢˜ï¼ˆé»˜è®¤/æš—è‰²/æ£®æ—/ä¸­æ€§ï¼‰
   - è®¾ç½®èƒŒæ™¯ï¼ˆé€æ˜/ç™½è‰²ï¼‰
4. ç‚¹å‡»ä¸‹è½½æŒ‰é’®è·å–ç”Ÿæˆçš„å›¾ç‰‡
5. åœ¨å†å²è®°å½•é¡µé¢æŸ¥çœ‹ä¹‹å‰çš„è½¬æ¢è®°å½•

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åç«¯æœåŠ¡é…ç½®ï¼ˆbackend-node/.envï¼‰ï¼š
```env
PORT=8000
NODE_ENV=production
```

å‰ç«¯æœåŠ¡é…ç½®ï¼ˆfrontend/.envï¼‰ï¼š
```env
VITE_API_BASE_URL=http://localhost:8000
```

### Docker é…ç½®

é¡¹ç›®åŒ…å«ä»¥ä¸‹ Docker ç›¸å…³æ–‡ä»¶ï¼š
- `docker-compose.yml`ï¼šå®šä¹‰æœåŠ¡ç¼–æ’
- `frontend/Dockerfile`ï¼šå‰ç«¯æœåŠ¡æ„å»ºé…ç½®
- `backend-node/Dockerfile`ï¼šåç«¯æœåŠ¡æ„å»ºé…ç½®

## ğŸ“ API æ–‡æ¡£

### ä¸»è¦ç«¯ç‚¹

- `GET /api/formats`ï¼šè·å–æ”¯æŒçš„è¾“å‡ºæ ¼å¼
- `POST /api/convert`ï¼šè½¬æ¢ Mermaid ä»£ç ä¸ºå›¾ç‰‡
- `POST /api/upload`ï¼šä¸Šä¼ å¹¶è½¬æ¢ Mermaid æ–‡ä»¶
- `GET /images/:filename`ï¼šè·å–ç”Ÿæˆçš„å›¾ç‰‡

è¯¦ç»†çš„ API æ–‡æ¡£è¯·å‚è€ƒ [API.md](./API.md)

## ğŸ”¨ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
.
â”œâ”€â”€ frontend/                # å‰ç«¯ Vue é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ stores/        # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ i18n/          # å›½é™…åŒ–é…ç½®
â”‚   â”‚   â””â”€â”€ services/      # API æœåŠ¡
â”‚   â””â”€â”€ ...
â”œâ”€â”€ backend-node/           # åç«¯ Node.js é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/        # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ...
â””â”€â”€ docker-compose.yml      # Docker ç¼–æ’é…ç½®
```

### æµ‹è¯•

è¿è¡Œåç«¯æµ‹è¯•ï¼š
```bash
cd backend-node
pnpm test
```

è¿è¡Œå‰ç«¯æµ‹è¯•ï¼š
```bash
cd frontend
pnpm test
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è§£å†³ä¸­æ–‡æ˜¾ç¤ºä¹±ç é—®é¢˜ï¼Ÿ
A: ç¡®ä¿ Docker ç¯å¢ƒä¸­å·²å®‰è£…ä¸­æ–‡å­—ä½“åŒ…ï¼Œé¡¹ç›®é»˜è®¤ä½¿ç”¨æ–‡æ³‰é©¿å­—ä½“ã€‚

### Q: å¦‚ä½•è°ƒæ•´ç”Ÿæˆå›¾ç‰‡çš„è´¨é‡ï¼Ÿ
A: å¯ä»¥é€šè¿‡è°ƒæ•´ DPI å€¼æ¥æ”¹å˜å›¾ç‰‡è´¨é‡ï¼Œæ”¯æŒçš„èŒƒå›´æ˜¯ 72-600ã€‚

### Q: å¦‚ä½•å¤‡ä»½è½¬æ¢å†å²ï¼Ÿ
A: è½¬æ¢å†å²å­˜å‚¨åœ¨æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ä¸­ï¼Œå¯ä»¥é€šè¿‡å¯¼å‡ºåŠŸèƒ½ä¿å­˜ã€‚

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [Issues](issues) é¡µé¢
2. åˆ›å»ºæ–°çš„ Issue
3. æˆ–å‘é€é‚®ä»¶åˆ°ï¼š[your-email@example.com] 